import{a as Te,u as re}from"./useEventCallback-UvAaEcyh.js";import{r as n,j as r}from"./app-D3qFl5QJ.js";import{u as we}from"./useTimeout-OCTbiRf8.js";import{A as ae}from"./Anchor-CBJHYeB7.js";import{u as K,c as k,d as $e}from"./ThemeProvider-TIbVUJ6I.js";import{u as De}from"./hook-5wmmorCC.js";import{f as Me,m as oe}from"./ElementChildren-CJCNM75t.js";import{a as Ae,T as Le,b as Oe}from"./TransitionWrapper-D-qpilnv.js";function Xe(a,o){const d=n.useRef(!0);n.useEffect(()=>{if(d.current){d.current=!1;return}return a()},o)}const le=n.forwardRef(({className:a,bsPrefix:o,as:d="div",...R},y)=>(o=K(o,"carousel-caption"),r.jsx(d,{ref:y,className:k(a,o),...R})));le.displayName="CarouselCaption";const ie=n.forwardRef(({as:a="div",bsPrefix:o,className:d,...R},y)=>{const p=k(d,K(o,"carousel-item"));return r.jsx(a,{ref:y,...R,className:p})});ie.displayName="CarouselItem";const _e=40;function He(a){if(!a||!a.style||!a.parentNode||!a.parentNode.style)return!1;const o=getComputedStyle(a);return o.display!=="none"&&o.visibility!=="hidden"&&getComputedStyle(a.parentNode).display!=="none"}const ce=n.forwardRef(({defaultActiveIndex:a=0,...o},d)=>{const{as:R="div",bsPrefix:y,slide:p=!0,fade:ue=!1,controls:de=!0,indicators:$=!0,indicatorLabels:D=[],activeIndex:f,onSelect:m,onSlide:E,onSlid:S,interval:I=5e3,keyboard:U=!0,onKeyDown:M,pause:x="hover",onMouseOver:A,onMouseOut:L,wrap:g=!0,touch:W=!0,onTouchStart:O,onTouchMove:X,onTouchEnd:_,prevIcon:fe=r.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:B="Previous",nextIcon:me=r.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:q,className:pe,children:H,...he}=De({defaultActiveIndex:a,...o},{activeIndex:"onSelect"}),c=K(y,"carousel"),C=$e(),N=n.useRef(null),[z,G]=n.useState("next"),[ve,T]=n.useState(!1),[b,J]=n.useState(!1),[s,xe]=n.useState(f||0);n.useEffect(()=>{!b&&f!==s&&(N.current?G(N.current):G((f||0)>s?"next":"prev"),p&&J(!0),xe(f||0))},[f,b,s,p]),n.useEffect(()=>{N.current&&(N.current=null)});let h=0,Q;Me(H,(e,t)=>{++h,t===f&&(Q=e.props.interval)});const Y=Te(Q),l=n.useCallback(e=>{if(b)return;let t=s-1;if(t<0){if(!g)return;t=h-1}N.current="prev",m==null||m(t,e)},[b,s,m,g,h]),i=re(e=>{if(b)return;let t=s+1;if(t>=h){if(!g)return;t=0}N.current="next",m==null||m(t,e)}),P=n.useRef();n.useImperativeHandle(d,()=>({element:P.current,prev:l,next:i}));const Z=re(()=>{!document.hidden&&He(P.current)&&(C?l():i())}),v=z==="next"?"start":"end";Xe(()=>{p||(E==null||E(s,v),S==null||S(s,v))},[s]);const Ce=`${c}-item-${z}`,Ne=`${c}-item-${v}`,be=n.useCallback(e=>{Ae(e),E==null||E(s,v)},[E,s,v]),Re=n.useCallback(()=>{J(!1),S==null||S(s,v)},[S,s,v]),ye=n.useCallback(e=>{if(U&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),C?i(e):l(e);return;case"ArrowRight":e.preventDefault(),C?l(e):i(e);return}M==null||M(e)},[U,M,l,i,C]),Ee=n.useCallback(e=>{x==="hover"&&T(!0),A==null||A(e)},[x,A]),Se=n.useCallback(e=>{T(!1),L==null||L(e)},[L]),ee=n.useRef(0),w=n.useRef(0),ne=we(),Ie=n.useCallback(e=>{ee.current=e.touches[0].clientX,w.current=0,x==="hover"&&T(!0),O==null||O(e)},[x,O]),ge=n.useCallback(e=>{e.touches&&e.touches.length>1?w.current=0:w.current=e.touches[0].clientX-ee.current,X==null||X(e)},[X]),je=n.useCallback(e=>{if(W){const t=w.current;Math.abs(t)>_e&&(t>0?l(e):i(e))}x==="hover"&&ne.set(()=>{T(!1)},I||void 0),_==null||_(e)},[W,x,l,i,ne,I,_]),te=I!=null&&!ve&&!b,F=n.useRef();n.useEffect(()=>{var e,t;if(!te)return;const u=C?l:i;return F.current=window.setInterval(document.visibilityState?Z:u,(e=(t=Y.current)!=null?t:I)!=null?e:void 0),()=>{F.current!==null&&clearInterval(F.current)}},[te,l,i,Y,I,Z,C]);const se=n.useMemo(()=>$&&Array.from({length:h},(e,t)=>u=>{m==null||m(t,u)}),[$,h,m]);return r.jsxs(R,{ref:P,...he,onKeyDown:ye,onMouseOver:Ee,onMouseOut:Se,onTouchStart:Ie,onTouchMove:ge,onTouchEnd:je,className:k(pe,c,p&&"slide",ue&&`${c}-fade`,q&&`${c}-${q}`),children:[$&&r.jsx("div",{className:`${c}-indicators`,children:oe(H,(e,t)=>r.jsx("button",{type:"button","data-bs-target":"","aria-label":D!=null&&D.length?D[t]:`Slide ${t+1}`,className:t===s?"active":void 0,onClick:se?se[t]:void 0,"aria-current":t===s},t))}),r.jsx("div",{className:`${c}-inner`,children:oe(H,(e,t)=>{const u=t===s;return p?r.jsx(Le,{in:u,onEnter:u?be:void 0,onEntered:u?Re:void 0,addEndListener:Oe,children:(j,ke)=>n.cloneElement(e,{...ke,className:k(e.props.className,u&&j!=="entered"&&Ce,(j==="entered"||j==="exiting")&&"active",(j==="entering"||j==="exiting")&&Ne)})}):n.cloneElement(e,{className:k(e.props.className,u&&"active")})})}),de&&r.jsxs(r.Fragment,{children:[(g||f!==0)&&r.jsxs(ae,{className:`${c}-control-prev`,onClick:l,children:[fe,B&&r.jsx("span",{className:"visually-hidden",children:B})]}),(g||f!==h-1)&&r.jsxs(ae,{className:`${c}-control-next`,onClick:i,children:[me,V&&r.jsx("span",{className:"visually-hidden",children:V})]})]})]})});ce.displayName="Carousel";const ze=Object.assign(ce,{Caption:le,Item:ie});export{ze as C};
