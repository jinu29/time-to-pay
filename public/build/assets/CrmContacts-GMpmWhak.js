import{u as pe,c as ue,a as xe,r as n,j as e,b as j,R as ge,Y as je}from"./app-CXzX9V26.js";import{l as fe}from"./lodash-BLdJw7io.js";import{a as be}from"./avatar-10-BcqtGVJW.js";import{B as Ce}from"./BreadCrumb-e1E3OoQD.js";import{D as K}from"./DeleteModal-DbRRkypE.js";import{E as Ne}from"./ExportCSVModal-MWs5qdyL.js";import{T as ye}from"./TableContainer-_2elP-g0.js";import{u as ve,c as ke,a as p}from"./index.esm-EV0FwKtx.js";import{L as we}from"./Loader-g4pOvq9m.js";import{Q as Fe,B as De}from"./ReactToastify-YlgDtxs0.js";import{h as H}from"./moment-C5S46NFB.js";import{u as Ee}from"./user-dummy-img-Dka7rpSK.js";import{L as Se}from"./index-NamOIY2m.js";import"./calender-yWVPQvD3.js";import{d as Me,e as Be,f as Le,g as z}from"./thunk-BHd4SB9m.js";import{S as Te}from"./react-select.esm-Cg5UhEmK.js";import{D as o}from"./Dropdown-DKYuDuvZ.js";import{C as Ie}from"./Container-BU1N2uwB.js";import{R as U}from"./Row-DhHIRFCn.js";import{C as d}from"./Col-Dt6QjEHh.js";import{C as u}from"./Card-T74en1UL.js";import{M as C}from"./Modal-CsdBvHx6.js";import{F as i}from"./Form-DVWYbqHn.js";import{T as Ae}from"./Table-CoVGe3nk.js";import"./index-D7tuWwSQ.js";import"./index-InElSO1D.js";import"./index-D2JML21l.js";import"./Button-DXn6adDE.js";import"./ThemeProvider-Cv4XkNP1.js";import"./Button-FKKDUcGS.js";import"./_baseClone-1g4bW0SP.js";import"./isObject-D7bzW4Uf.js";import"./hoist-non-react-statics.cjs-BRd98DBC.js";import"./Spinner-B5TdcFkF.js";import"./logo-sm-DmJR8Lua.js";import"./logo-dark-Dh4DV6bR.js";import"./logo-light-l2wwNDet.js";import"./index-j5Rupiz8.js";import"./avatar-2-B-1-S_lh.js";import"./avatar-3-CSm6kh8B.js";import"./avatar-5-D7m8bZ3v.js";import"./avatar-1-PHP4S1R6.js";import"./Collapse-DVGbcFmR.js";import"./TransitionWrapper-Dz67Upm7.js";import"./listen-DOhMskc_.js";import"./useMergedRefs-B94dM63O.js";import"./setPrototypeOf-DgZC2w_0.js";import"./ltc-BjMPbQSH.js";import"./dash-TnNMg90k.js";import"./img-1-Jhxup-Mz.js";import"./img-2-BKxLD3CN.js";import"./img-3-B4j7qXDU.js";import"./img-6-B4dmEj4y.js";import"./dropbox-kAuTPoR1.js";import"./bitbucket-C11sTxQc.js";import"./slack-CK7S0DPT.js";import"./img-5-DJyXW5hw.js";import"./img-3-BL14nKmC.js";import"./img-4-CtrsL6tB.js";import"./img-6-_pG5cMGi.js";import"./img-8-RHtA4ZFb.js";import"./avatar-4-BkrIkC6X.js";import"./avatar-6-DJX3lkeY.js";import"./avatar-7-ChzoTmzs.js";import"./avatar-8-BaCFiEfo.js";import"./avatar-9-iQiecx18.js";import"./extends-C149miAE.js";import"./extends-CF3RwP-h.js";import"./querySelectorAll-Cwpyv69p.js";import"./SSRProvider-DIiAeLAb.js";import"./usePrevious-Dj1w-qoo.js";import"./useForceUpdate-CYx9gphn.js";import"./useEventCallback-BAVHBbmE.js";import"./useCallbackRef-DLH5EmIJ.js";import"./mergeOptionsWithPopperConfig-C8x5tM--.js";import"./useMounted-D03lgtLh.js";import"./useWindow-BaeaCz4O.js";import"./NavContext-DVJUvZaS.js";import"./DataKey-DjdvojM5.js";import"./hook-8n69ojBV.js";import"./Anchor-DRhp1oey.js";import"./InputGroupContext-DEABkj-S.js";import"./NavbarContext-C0ag5-IR.js";import"./CardHeaderContext-DPoaQ21b.js";import"./divWithClassName-B39ypLiO.js";import"./useWillUnmount-B9OjG36h.js";import"./AbstractModalHeader-Bu6pUi1A.js";import"./hasClass-Cj57SzdP.js";import"./NoopTransition-DkeeZU3A.js";import"./CloseButton-ZV7OYXLq.js";import"./Fade-dnNnH8Aq.js";import"./ElementChildren-BfgQ-YuR.js";const Ve=()=>{const h=pe(),$=ue(t=>t.Crm,t=>({crmcontacts:t.crmcontacts,error:t.error})),{crmcontacts:c,error:Y}=xe($);n.useEffect(()=>{c&&!c.length&&h(Me())},[h,c]),n.useEffect(()=>{x(c)},[c]),n.useEffect(()=>{fe.isEmpty(c)||(x(c),y(!1))},[c]);const[N,y]=n.useState(!1),[l,x]=n.useState([]),[J,v]=n.useState(!1),[G,k]=n.useState(!1),[w,f]=n.useState(!1),g=n.useCallback(()=>{w?(f(!1),x(null),q(""),D("")):(f(!0),A([]),P([]))},[w]),Q=()=>{l&&(h(z(l.id)),v(!1))},W=t=>{x(t),v(!0)},Z=()=>{x(""),y(!1),g()},S=()=>{var t=new Date,s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t.getDate()+" "+s[t.getMonth()]+", "+t.getFullYear()},a=ve({enableReinitialize:!0,initialValues:{id:l&&l.id||"",img:l&&l.img||"",name:l&&l.name||"",company:l&&l.company||"",designation:l&&l.designation||"",email:l&&l.email||"",phone:l&&l.phone||"",score:l&&l.score||"",tags:l&&l.tags||[]},validationSchema:ke({name:p().required("Please Enter Name"),img:p().required("Please Enter Image"),company:p().required("Please Enter Company"),designation:p().required("Please Enter Designation"),email:p().required("Please Enter Email"),phone:p().required("Please Enter Phone"),score:p().required("Please Enter score")}),onSubmit:t=>{if(N){const s={id:l?l.id:0,img:t.img,name:t.name,company:t.company,designation:t.designation,email:t.email,phone:t.phone,score:t.score,date:S(),tags:V};h(Be(s)),a.resetForm()}else{const s={id:(Math.floor(Math.random()*10)+20).toString(),img:t.img,name:t.name,company:t.company,designation:t.designation,email:t.email,phone:t.phone,score:t.score,date:S(),tags:V};h(Le(s)),a.resetForm()}g()}}),M=n.useCallback(t=>{const s=t;x({id:s.id,img:s.img,name:s.name,company:s.company,email:s.email,designation:s.designation,phone:s.phone,score:s.score,date:s.date,tags:s.tags}),y(!0),g()},[g]),B=t=>H(new Date(t)).format("DD MMM Y"),L=t=>{const s=new Date(t),r=s.getUTCHours(),b=s.getUTCMinutes(),he=`${r}:${b}`;var E="";return r>=12?E="PM":E="AM",H(he,"hh:mm").format("hh:mm")+" "+E},T=n.useCallback(()=>{const t=document.getElementById("checkBoxAll"),s=document.querySelectorAll(".contactCheckBox");t.checked?s.forEach(r=>{r.checked=!0}):s.forEach(r=>{r.checked=!1}),I()},[]),[_,O]=n.useState([]),[X,F]=n.useState(!1),ee=()=>{const t=document.getElementById("checkBoxAll");_.forEach(s=>{h(z(s.value)),setTimeout(()=>{De.clearWaitingQueue()},3e3)}),F(!1),t.checked=!1},I=()=>{const t=document.querySelectorAll(".contactCheckBox:checked");t.length>0?F(!0):F(!1),O(t)},te={multiValue:(t,{data:s})=>({...t,backgroundColor:"#3762ea"}),multiValueLabel:(t,{data:s})=>({...t,backgroundColor:"#405189",color:"white"}),multiValueRemove:(t,{data:s})=>({...t,color:"white",backgroundColor:"#405189",":hover":{backgroundColor:"#405189",color:"white"}})},ae=n.useMemo(()=>[{header:e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkBoxAll",onClick:()=>T()}),cell:t=>e.jsx("input",{type:"checkbox",className:"contactCheckBox form-check-input",value:t.getValue(),onChange:()=>I()}),id:"#",accessorKey:"id",enableColumnFilter:!1,enableSorting:!1},{header:"Name",accessorKey:"name",enableColumnFilter:!1,cell:t=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:t.row.original.img,alt:"",className:"avatar-xs rounded-circle"})}),e.jsx("div",{className:"flex-grow-1 ms-2 name",children:t.getValue()})]})})},{header:"Company",accessorKey:"company",enableColumnFilter:!1},{header:"Email ID",accessorKey:"email",enableColumnFilter:!1},{header:"Phone No",accessorKey:"phone",enableColumnFilter:!1},{header:"Lead Score",accessorKey:"score",enableColumnFilter:!1},{header:"Tags",accessorKey:"tags",enableColumnFilter:!1,cell:t=>e.jsx(e.Fragment,{children:t.getValue().map((s,r)=>e.jsx("span",{className:"badge bg-primary-subtle text-primary me-1",children:s},r))})},{header:"Last Contacted",accessorKey:"date",enableColumnFilter:!1,cell:t=>e.jsxs(e.Fragment,{children:[B(t.getValue()),","," ",e.jsx("small",{className:"text-muted",children:L(t.getValue())})]})},{header:"Action",cell:t=>e.jsxs("ul",{className:"list-inline hstack gap-2 mb-0",children:[e.jsx("li",{className:"list-inline-item edit",title:"Call",children:e.jsx(j,{href:"#",className:"text-muted d-inline-block",children:e.jsx("i",{className:"ri-phone-line fs-16"})})}),e.jsx("li",{className:"list-inline-item edit",title:"Message",children:e.jsx(j,{href:"#",className:"text-muted d-inline-block",children:e.jsx("i",{className:"ri-question-answer-line fs-16"})})}),e.jsx("li",{className:"list-inline-item",children:e.jsxs(o,{children:[e.jsx(o.Toggle,{href:"#",className:"btn btn-soft-primary btn-sm dropdown arrow-none",as:"button",children:e.jsx("i",{className:"ri-more-fill align-middle"})}),e.jsxs(o.Menu,{className:"dropdown-menu-end",children:[e.jsxs(o.Item,{className:"dropdown-item",href:"#",onClick:()=>{const s=t.row.original;me(s)},children:[e.jsx("i",{className:"ri-eye-fill align-bottom me-2 text-muted"})," ","View"]}),e.jsxs(o.Item,{className:"dropdown-item edit-item-btn",href:"#",onClick:()=>{const s=t.row.original;M(s)},children:[e.jsx("i",{className:"ri-pencil-fill align-bottom me-2 text-muted"})," ","Edit"]}),e.jsxs(o.Item,{className:"dropdown-item remove-item-btn",href:"#",onClick:()=>{const s=t.row.original;W(s)},children:[e.jsx("i",{className:"ri-delete-bin-fill align-bottom me-2 text-muted"})," ","Delete"]})]})]})})]})}],[M,T]),[se,A]=n.useState(),[V,P]=n.useState([]),le=t=>{A(t);const s=t.map(r=>r.value);P(s)},ie=[{label:"Exiting",value:"Exiting"},{label:"Lead",value:"Lead"},{label:"Long-term",value:"Long-term"},{label:"Partner",value:"Partner"}],[ne,D]=n.useState(),[re,q]=n.useState(),oe=t=>{const s=[...ne,t];D(s),a.setFieldValue("img",s)};n.useEffect(()=>{D(l&&l.img||[])},[l]);const ce=t=>{const s=t.target.files[0],r=new FileReader;r.onload=b=>{a.setFieldValue("img",b.target.result),q(b.target.result)},r.readAsDataURL(s)},[m,me]=n.useState([]),[de,R]=n.useState(!1);return e.jsxs(ge.Fragment,{children:[e.jsx(je,{title:"Contacts | Velzon - React Admin & Dashboard Template"}),e.jsxs("div",{className:"page-content",children:[e.jsx(Ne,{show:de,onCloseClick:()=>R(!1),data:c}),e.jsx(K,{show:J,onDeleteClick:Q,onCloseClick:()=>v(!1)}),e.jsx(K,{show:G,onDeleteClick:()=>{ee(),k(!1)},onCloseClick:()=>k(!1)}),e.jsxs(Ie,{fluid:!0,children:[e.jsx(Ce,{title:"Contacts",pageTitle:"CRM"}),e.jsxs(U,{children:[e.jsx(d,{lg:12,children:e.jsx(u,{children:e.jsx(u.Header,{children:e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx("div",{className:"flex-grow-1",children:e.jsxs("button",{className:"btn btn-primary add-btn",onClick:()=>{f(!0)},children:[e.jsx("i",{className:"ri-add-fill me-1 align-bottom"})," Add Contacts"]})}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"hstack text-nowrap gap-2",children:[X&&e.jsx("button",{className:"btn btn-soft-danger",id:"remove-actions",onClick:()=>k(!0),children:e.jsx("i",{className:"ri-delete-bin-2-line"})}),e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx("i",{className:"ri-filter-2-line me-1 align-bottom"})," ","Filters"]}),e.jsx("button",{className:"btn btn-soft-primary",onClick:()=>R(!0),children:"Export"}),e.jsxs(o,{children:[e.jsx(o.Toggle,{href:"#",className:"btn btn-soft-secondary arrow-none",as:"button",children:e.jsx("i",{className:"ri-more-2-fill"})}),e.jsxs(o.Menu,{className:"dropdown-menu-end",children:[e.jsx(o.Item,{className:"dropdown-item",href:"#",children:"All"}),e.jsx(o.Item,{className:"dropdown-item",href:"#",children:"Last Week"}),e.jsx(o.Item,{className:"dropdown-item",href:"#",children:"Last Month"}),e.jsx(o.Item,{className:"dropdown-item",href:"#",children:"Last Year"})]})]})]})})]})})})}),e.jsx(d,{xxl:9,children:e.jsx(u,{id:"contactList",children:e.jsxs(u.Body,{className:"pt-0",children:[e.jsx("div",{children:c&&c.length>0?e.jsx(ye,{columns:ae,data:c||[],isGlobalFilter:!0,customPageSize:8,divClass:"table-responsive table-card mb-3",tableClass:"align-middle table-nowrap",theadClass:"table-light",handleContactClick:Z,isContactsFilter:!0}):e.jsx(we,{error:Y})}),e.jsxs(C,{id:"showModal",show:w,onHide:g,centered:!0,children:[e.jsx(C.Header,{className:"bg-primary-subtle p-3",closeButton:!0,children:e.jsx("h5",{className:"modal-title",children:N?"Edit Contact":"Add Contact"})}),e.jsxs(i,{className:"tablelist-form",onSubmit:t=>(t.preventDefault(),a.handleSubmit(),!1),children:[e.jsxs(C.Body,{children:[e.jsx(i.Control,{type:"hidden",id:"id-field"}),e.jsxs(U,{className:"g-3",children:[e.jsxs(d,{lg:12,children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block",children:[e.jsxs("div",{className:"position-absolute  bottom-0 end-0",children:[e.jsx(i.Label,{htmlFor:"customer-image-input",className:"mb-0",children:e.jsx("div",{className:"avatar-xs cursor-pointer",children:e.jsx("div",{className:"avatar-title bg-light border rounded-circle text-muted",children:e.jsx("i",{className:"ri-image-fill"})})})}),e.jsx(i.Control,{className:"form-control d-none",id:"customer-image-input",type:"file",accept:"image/png, image/gif, image/jpeg",onChange:ce})]}),e.jsx("div",{className:"avatar-lg p-1",onClick:t=>oe(t),children:e.jsx("div",{className:"avatar-title bg-light rounded-circle",children:e.jsx("img",{src:re||a.values.img||Ee,alt:"dummyImg",id:"customer-img",className:"avatar-md rounded-circle object-fit-cover"})})})]}),a.errors.img&&a.touched.img?e.jsxs(i.Control.Feedback,{type:"invalid",className:"d-block",children:[" ",a.errors.img," "]}):null]}),e.jsxs("div",{children:[e.jsx(i.Label,{htmlFor:"name-field",className:"form-label",children:"Name"}),e.jsx(i.Control,{name:"name",id:"customername-field",className:"form-control",placeholder:"Enter Name",type:"text",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.name||""}),a.touched.name&&a.errors.name?e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.name}):null]})]}),e.jsx(d,{lg:12,children:e.jsxs("div",{children:[e.jsx(i.Label,{htmlFor:"company_name-field",className:"form-label",children:"Company Name"}),e.jsx(i.Control,{name:"company",id:"company_name-field",className:"form-control",placeholder:"Enter Company Name",type:"text",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.company||""}),a.touched.company&&a.errors.company?e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.company}):null]})}),e.jsx(d,{lg:12,children:e.jsxs("div",{children:[e.jsx(i.Label,{htmlFor:"designation-field",className:"form-label",children:"Designation"}),e.jsx(i.Control,{name:"designation",id:"designation-field",className:"form-control",placeholder:"Enter Designation",type:"text",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.designation||""}),a.touched.designation&&a.errors.designation?e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.designation}):null]})}),e.jsx(d,{lg:12,children:e.jsxs("div",{children:[e.jsx(i.Label,{htmlFor:"emailid-field",className:"form-label",children:"Email ID"}),e.jsx(i.Control,{name:"email",id:"emailid-field",className:"form-control",placeholder:"Enter Email",type:"text",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.email||""}),a.touched.email&&a.errors.email?e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.email}):null]})}),e.jsx(d,{lg:6,children:e.jsxs("div",{children:[e.jsx(i.Label,{htmlFor:"phone-field",className:"form-label",children:"Phone"}),e.jsx(i.Control,{name:"phone",id:"phone-field",className:"form-control",placeholder:"Enter Phone No.",type:"text",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.phone||""}),a.touched.phone&&a.errors.phone?e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.phone}):null]})}),e.jsx(d,{lg:6,children:e.jsxs("div",{children:[e.jsx(i.Label,{htmlFor:"score-field",className:"form-label",children:"Lead Score"}),e.jsx(i.Control,{name:"score",id:"score-field",className:"form-control",placeholder:"Enter Lead Score",type:"text",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.score||""}),a.touched.score&&a.errors.score?e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.score}):null]})}),e.jsx(d,{lg:12,children:e.jsxs("div",{children:[e.jsx(i.Label,{htmlFor:"taginput-choices",className:"form-label font-size-13 text-muted",children:"Tags"}),e.jsx(Te,{isMulti:!0,value:se,onChange:t=>{le(t)},className:"mb-0",options:ie,id:"taginput-choices",styles:te}),a.touched.tags&&a.errors.tags?e.jsx(i.Control.Feedback,{type:"invalid",children:a.errors.tags}):null]})})]})]}),e.jsx(C.Footer,{children:e.jsxs("div",{className:"hstack gap-2 justify-content-end",children:[e.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>{f(!1)},children:" Close "}),e.jsxs("button",{type:"submit",className:"btn btn-success",id:"add-btn",children:[" ",N?"Update":"Add Contact"," "]})]})})]})]}),e.jsx(Fe,{closeButton:!1,limit:1})]})})}),e.jsx(d,{xxl:3,children:e.jsxs(u,{id:"contact-view-detail",children:[e.jsxs(u.Body,{className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block",children:[e.jsx("img",{src:m.img||be,alt:"",className:"avatar-lg rounded-circle img-thumbnail"}),e.jsx("span",{className:"contact-active position-absolute rounded-circle bg-success",children:e.jsx("span",{className:"visually-hidden"})})]}),e.jsx("h5",{className:"mt-4 mb-1",children:m.name||"Tonya Noble"}),e.jsx("p",{className:"text-muted",children:m.company||"Nesta Technologies"}),e.jsxs("ul",{className:"list-inline mb-0",children:[e.jsx("li",{className:"list-inline-item avatar-xs",children:e.jsx(j,{href:"#",className:"avatar-title bg-success-subtle text-success fs-15 rounded",children:e.jsx("i",{className:"ri-phone-line"})})}),e.jsx("li",{className:"list-inline-item avatar-xs",children:e.jsx(j,{href:"#",className:"avatar-title bg-danger-subtle text-danger fs-15 rounded",children:e.jsx("i",{className:"ri-mail-line"})})}),e.jsx("li",{className:"list-inline-item avatar-xs",children:e.jsx(j,{href:"#",className:"avatar-title bg-warning-subtle text-warning fs-15 rounded",children:e.jsx("i",{className:"ri-question-answer-line"})})})]})]}),e.jsxs(u.Body,{children:[e.jsx("h6",{className:"text-muted text-uppercase fw-semibold mb-3",children:"Personal Information"}),e.jsxs("p",{className:"text-muted mb-4",children:["Hello, I'm ",m.name||"Tonya Noble",", The most effective objective is one that is tailored to the job you are applying for. It states what kind of career you are seeking, and what skills and experiences."]}),e.jsx("div",{className:"table-responsive table-card",children:e.jsx(Ae,{className:"table table-borderless mb-0",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"fw-medium",children:"Designation"}),e.jsx("td",{children:"Lead Designer / Developer"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-medium",children:"Email ID"}),e.jsx("td",{children:m.email||"tonyanoble@velzon.com"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-medium",children:"Phone No"}),e.jsx("td",{children:m.phone||"414-453-5725"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-medium",children:"Lead Score"}),e.jsx("td",{children:m.score||"154"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-medium",children:"Tags"}),e.jsx("td",{children:(m.tags||["Lead","Partner"]).map((t,s)=>e.jsx("span",{className:"badge bg-primary-subtle text-primary me-1",children:t},s))})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-medium",children:"Last Contacted"}),e.jsxs("td",{children:[B(m.date||"2021-04-13T18:30:00.000Z")," ",e.jsx("small",{className:"text-muted",children:L(m.date||"2021-04-13T18:30:00.000Z")})]})]})]})})})]})]})})]})]})]})]})};Ve.layout=h=>e.jsx(Se,{children:h});export{Ve as default};
