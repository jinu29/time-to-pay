import{u as B,c as U,e as F}from"./ThemeProvider-CSTTv7nq.js";import{r as P,j as C,aE as m}from"./app-CcmPIReT.js";import{u as z}from"./useEventCallback-BJse7mIf.js";import{c as W}from"./NavbarContext-CDqv-Zet.js";import{a as L}from"./extends-BFqQA52f.js";import{d as G,t as J,c as K,a as Q,i as X}from"./toConsumableArray-D6TJiZ36.js";import{p as Y}from"./index-E0pRXvh2.js";const Z=P.forwardRef(({bsPrefix:t,className:n,children:o,label:e="Toggle navigation",as:s="button",onClick:r,...a},i)=>{t=B(t,"navbar-toggler");const{onToggle:l,expanded:d}=P.useContext(W)||{},v=z(u=>{r&&r(u),l&&l()});return s==="button"&&(a.type="button"),C.jsx(s,{...a,ref:i,onClick:v,"aria-label":e,className:U(n,t,!d&&"collapsed"),children:o||C.jsx("span",{className:`${t}-icon`})})});Z.displayName="NavbarToggle";var q={},A={exports:{}};(function(t){function n(o){return o&&o.__esModule?o:{default:o}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(A);var ee=A.exports;const te=m(L),re=m(G),oe=m(J),se=m(K);var T={exports:{}},E={exports:{}},N;function ae(){return N||(N=1,function(t){function n(o){"@babel/helpers - typeof";return t.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(E)),E.exports}var b={exports:{}},k;function D(){return k||(k=1,function(t){function n(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(b)),b.exports}var R;function ne(){return R||(R=1,function(t){var n=ae().default,o=D();function e(s,r){if(r&&(n(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(s)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(T)),T.exports}var w={exports:{}},I;function ie(){return I||(I=1,function(t){function n(o){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(w)),w.exports}const le=m(Q),ue=m(X);var g={},$;function pe(){if($)return g;$=1,Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,r,a;return function(){var i=+new Date,l=!!r&&i<r+s;l?(clearTimeout(a),a=setTimeout(function(){r=i,e()},s)):(r=i,e())}},n=t;return g.default=n,g}var p=ee;Object.defineProperty(q,"__esModule",{value:!0});var ce=q.default=void 0,fe=p(te),S=p(re),de=p(oe),ve=p(se),he=p(ne()),ye=p(ie()),_e=p(D()),O=p(le),me=p(ue),f=p(Y),x=p(P),V=p(F),ge=p(pe());function Se(t,n){return t.length===n.length&&t.every(function(o,e){return o===n[e]})}var xe=function(t){(0,me.default)(n,t),(0,O.default)(n,null,[{key:"propTypes",get:function(){return{items:f.default.arrayOf(f.default.string).isRequired,currentClassName:f.default.string.isRequired,scrolledPastClassName:f.default.string,style:f.default.object,componentTag:f.default.oneOfType([f.default.string,f.default.elementType]),offset:f.default.number,rootEl:f.default.string,onUpdate:f.default.func}}},{key:"defaultProps",get:function(){return{items:[],currentClassName:"",style:{},componentTag:"ul",offset:0,onUpdate:function(){}}}}]);function n(o){var e;return(0,ve.default)(this,n),e=(0,he.default)(this,(0,ye.default)(n).call(this,o)),e.state={targetItems:[],inViewState:[],isScrolledPast:[]},e._handleSpy=e._handleSpy.bind((0,_e.default)(e)),e}return(0,O.default)(n,[{key:"_initSpyTarget",value:function(e){var s=e.map(function(r){return document.getElementById(r)});return s}},{key:"_fillArray",value:function(e,s){for(var r=[],a=0,i=e.length;a<i;a++)r[a]=s;return r}},{key:"_isScrolled",value:function(){return this._getScrollDimension().scrollTop>0}},{key:"_getScrollDimension",value:function(){var e=document,s=this.props.rootEl,r=s?e.querySelector(s).scrollTop:e.documentElement.scrollTop||e.body.parentNode.scrollTop||e.body.scrollTop,a=s?e.querySelector(s).scrollHeight:e.documentElement.scrollHeight||e.body.parentNode.scrollHeight||e.body.scrollHeight;return{scrollTop:r,scrollHeight:a}}},{key:"_getElemsViewState",value:function(e){for(var s=[],r=[],a=[],i=e||this.state.targetItems,l=!1,d=0,v=i.length;d<v;d++){var u=i[d],h=l?!1:this._isInView(u);h?(l=!0,s.push(u)):r.push(u);var c=d===v-1,_=this._isScrolled(),y=this._isAtBottom()&&this._isInView(u)&&!h&&c&&_;y&&(r.pop(),r.push.apply(r,(0,de.default)(s)),s=[u],a=this._fillArray(a,!1),h=!0),a.push(h)}return{inView:s,outView:r,viewStatusList:a,scrolledPast:this.props.scrolledPastClassName&&this._getScrolledPast(a)}}},{key:"_isInView",value:function(e){if(!e)return!1;var s=this.props,r=s.rootEl,a=s.offset,i;r&&(i=document.querySelector(r).getBoundingClientRect());var l=e.getBoundingClientRect(),d=r?i.height:window.innerHeight,v=this._getScrollDimension(),u=v.scrollTop,h=u+d,c=r?l.top+u-i.top+a:l.top+u+a,_=c+e.offsetHeight;return c<h&&_>u}},{key:"_isAtBottom",value:function(){var e=this.props.rootEl,s=this._getScrollDimension(),r=s.scrollTop,a=s.scrollHeight,i=e?document.querySelector(e).getBoundingClientRect().height:window.innerHeight,l=r+i>=a;return l}},{key:"_getScrolledPast",value:function(e){if(!e.some(function(a){return a}))return e;var s=!1,r=e.map(function(a){return a&&!s?(s=!0,!1):!s});return r}},{key:"_spy",value:function(e){var s=this,r=this._getElemsViewState(e),a=this.state.inViewState;this.setState({inViewState:r.viewStatusList,isScrolledPast:r.scrolledPast},function(){s._update(a)})}},{key:"_update",value:function(e){Se(this.state.inViewState,e)||this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(!0)])}},{key:"_handleSpy",value:function(){(0,ge.default)(this._spy(),100)}},{key:"_initFromProps",value:function(){var e=this._initSpyTarget(this.props.items);this.setState({targetItems:e}),this._spy(e)}},{key:"offEvent",value:function(){var e=this.props.rootEl?document.querySelector(this.props.rootEl):window;e.removeEventListener("scroll",this._handleSpy)}},{key:"onEvent",value:function(){var e=this.props.rootEl?document.querySelector(this.props.rootEl):window;e.addEventListener("scroll",this._handleSpy)}},{key:"componentDidMount",value:function(){this._initFromProps(),this.onEvent()}},{key:"componentWillUnmount",value:function(){this.offEvent()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._initFromProps()}},{key:"render",value:function(){var e=this,s=this.props.componentTag,r=this.props,a=r.children,i=r.className,l=r.scrolledPastClassName,d=r.style,v=0,u=x.default.Children.map(a,function(c,_){var y;if(!c)return null;var H=c.type,j=l&&e.state.isScrolledPast[_],M=(0,V.default)((y={},(0,S.default)(y,"".concat(c.props.className),c.props.className),(0,S.default)(y,"".concat(e.props.currentClassName),e.state.inViewState[_]),(0,S.default)(y,"".concat(e.props.scrolledPastClassName),j),y));return x.default.createElement(H,(0,fe.default)({},c.props,{className:M,key:v++}),c.props.children)}),h=(0,V.default)((0,S.default)({},"".concat(i),i));return x.default.createElement(s,{className:h,style:d},u)}}]),n}(x.default.Component);ce=q.default=xe;export{Z as N,ce as _};
