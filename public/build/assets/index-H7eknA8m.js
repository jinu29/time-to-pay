import{r as l,t as G,W as H,j as e,b as z,R as U,Y as W}from"./app-CXzX9V26.js";import{B as q}from"./BreadCrumb-e1E3OoQD.js";import{T as Q}from"./TableContainer-_2elP-g0.js";import{D as Y}from"./DeleteModal-DbRRkypE.js";import{l as J}from"./lodash-BLdJw7io.js";import{E as X}from"./ExportCSVModal-MWs5qdyL.js";import{c as x}from"./ThemeProvider-Cv4XkNP1.js";import{B as A,Q as Z}from"./ReactToastify-YlgDtxs0.js";import{L as $}from"./index-NamOIY2m.js";import"./calender-yWVPQvD3.js";import{d}from"./ecommerce-NJRzL-65.js";import{B as N}from"./Button-DXn6adDE.js";import{C as ee}from"./Container-BU1N2uwB.js";import{R as C}from"./Row-DhHIRFCn.js";import{C as k}from"./Col-Dt6QjEHh.js";import{C as _}from"./Card-T74en1UL.js";import{T as te}from"./Tab-DH_RYaTh.js";import{N as i}from"./Nav-neH6IfeN.js";import{M as S}from"./Modal-CsdBvHx6.js";import{F as s}from"./Form-DVWYbqHn.js";import"./index-InElSO1D.js";import"./index-D2JML21l.js";import"./index-D7tuWwSQ.js";import"./react-select.esm-Cg5UhEmK.js";import"./extends-C149miAE.js";import"./setPrototypeOf-DgZC2w_0.js";import"./useMergedRefs-B94dM63O.js";import"./extends-CF3RwP-h.js";import"./hoist-non-react-statics.cjs-BRd98DBC.js";import"./Dropdown-DKYuDuvZ.js";import"./querySelectorAll-Cwpyv69p.js";import"./listen-DOhMskc_.js";import"./SSRProvider-DIiAeLAb.js";import"./usePrevious-Dj1w-qoo.js";import"./useForceUpdate-CYx9gphn.js";import"./useEventCallback-BAVHBbmE.js";import"./useCallbackRef-DLH5EmIJ.js";import"./mergeOptionsWithPopperConfig-C8x5tM--.js";import"./useMounted-D03lgtLh.js";import"./useWindow-BaeaCz4O.js";import"./NavContext-DVJUvZaS.js";import"./Button-FKKDUcGS.js";import"./DataKey-DjdvojM5.js";import"./hook-8n69ojBV.js";import"./Anchor-DRhp1oey.js";import"./InputGroupContext-DEABkj-S.js";import"./NavbarContext-C0ag5-IR.js";import"./Table-CoVGe3nk.js";import"./logo-sm-DmJR8Lua.js";import"./logo-dark-Dh4DV6bR.js";import"./logo-light-l2wwNDet.js";import"./index-j5Rupiz8.js";import"./isObject-D7bzW4Uf.js";import"./avatar-2-B-1-S_lh.js";import"./avatar-3-CSm6kh8B.js";import"./avatar-5-D7m8bZ3v.js";import"./avatar-1-PHP4S1R6.js";import"./Collapse-DVGbcFmR.js";import"./TransitionWrapper-Dz67Upm7.js";import"./ltc-BjMPbQSH.js";import"./dash-TnNMg90k.js";import"./img-1-Jhxup-Mz.js";import"./img-2-BKxLD3CN.js";import"./img-3-B4j7qXDU.js";import"./img-6-B4dmEj4y.js";import"./img-1-DS69PRDs.js";import"./img-2-9-eXUNQa.js";import"./img-3-BgFVQ164.js";import"./img-5-voBZKH-r.js";import"./img-6-BK084NdC.js";import"./img-8-BJHS-sPF.js";import"./img-10-DeVk1Tlu.js";import"./img-10-h_gqqnMv.js";import"./img-12-DPX2B3oR.js";import"./img-5-DJyXW5hw.js";import"./img-2-vFB13_q9.js";import"./img-3-BL14nKmC.js";import"./img-4-CtrsL6tB.js";import"./img-6-_pG5cMGi.js";import"./img-7-BS2xckWT.js";import"./img-8-RHtA4ZFb.js";import"./CardHeaderContext-DPoaQ21b.js";import"./divWithClassName-B39ypLiO.js";import"./NavItem-B_lC9w1c.js";import"./NoopTransition-DkeeZU3A.js";import"./Fade-dnNnH8Aq.js";import"./Nav-D8hb0EB2.js";import"./NavLink-DpIVUSpZ.js";import"./useWillUnmount-B9OjG36h.js";import"./AbstractModalHeader-Bu6pUi1A.js";import"./hasClass-Cj57SzdP.js";import"./CloseButton-ZV7OYXLq.js";import"./ElementChildren-BfgQ-YuR.js";const re=o=>{const[v,p]=l.useState(!1),[a,F]=l.useState([]),{flash:n}=G().props,j=l.useCallback(()=>{v?(p(!1),F(null)):p(!0)},[v]),{data:c,setData:m,post:b,processing:se,errors:ae,reset:P}=H({id:"",order_id:"",customer_name:"",product:"",amount:"",payment_method:"",delivery_status:""});l.useState({order_id:a?a.order_id:"",customer_name:a?a.customer_name:"",product:a?a.product:"",amount:a?a.amount:"",payment_method:a?a.payment_method:"",delivery_status:a?a.delivery_status:""});function O(t){t.preventDefault();const r=c;f?(a&&a.id,r.order_id,r.customer_name,r.product,r.amount,r.payment_method,r.delivery_status,b("order-update",{preserveScroll:!0,onSuccess:()=>{p(!1),P()}})):((Math.floor(Math.random()*10)+20).toString(),r.order_id,r.customer_name,r.product,r.amount,r.payment_method,r.delivery_status,b("order-create",{preserveScroll:!0,onSuccess:()=>{p(!1),P()}}))}const L=l.useCallback(t=>{m({...t}),D(!0),j()},[j]),B=t=>{F(t),y(!0),c.id=t.id},I=()=>{b("order-delete",{preserveScroll:!0,onSuccess:()=>{y(!1)}})},[f,D]=l.useState(!1),[le,g]=l.useState([]),[u,M]=l.useState("1"),[T,y]=l.useState(!1);l.useEffect(()=>{g(d)},[d]),l.useEffect(()=>{J.isEmpty(d)||g(d)},[d]);const h=(t,r)=>{if(u!==t){M(t);let E=d;r!=="all"&&(E=d.filter(R=>R.status===r)),g(E)}},V=l.useMemo(()=>[{header:"Order Id",accessorKey:"order_id",enableColumnFilter:!1,cell:t=>e.jsx(z,{href:"/apps-ecommerce-order-details",className:"fw-medium link-primary",children:t.getValue()})},{header:"Customer",accessorKey:"customer_name",enableColumnFilter:!1},{header:"Product",accessorKey:"product",enableColumnFilter:!1},{header:"Amount",accessorKey:"amount",enableColumnFilter:!1},{header:"Payment Method",accessorKey:"payment_method",enableColumnFilter:!1},{header:"Delivery Status",accessorKey:"delivery_status",enableColumnFilter:!1,cell:t=>{switch(t.getValue()){case"Pending":return e.jsxs("span",{className:"badge text-uppercase bg-warning-subtle text-warning",children:[" ",t.getValue()," "]});case"Cancelled":return e.jsxs("span",{className:"badge text-uppercase bg-danger-subtle text-danger",children:[" ",t.getValue()," "]});case"Inprogress":return e.jsxs("span",{className:"badge text-uppercase bg-secondary-subtle text-secondary",children:[" ",t.getValue()," "]});case"Pickups":return e.jsxs("span",{className:"badge text-uppercase bg-info-subtle text-info",children:[" ",t.getValue()," "]});case"Returns":return e.jsxs("span",{className:"badge text-uppercase bg-primary-subtle text-primary",children:[" ",t.getValue()," "]});case"Delivered":return e.jsxs("span",{className:"badge text-uppercase bg-success-subtle text-success",children:[" ",t.getValue()," "]});default:return e.jsxs("span",{className:"badge text-uppercase bg-warning-subtle text-warning",children:[" ",t.getValue()," "]})}}},{header:"Action",cell:t=>e.jsxs("ul",{className:"list-inline hstack gap-2 mb-0",children:[e.jsx("li",{className:"list-inline-item",children:e.jsx(N,{variant:"link",href:"/apps-ecommerce-order-details",className:"text-primary d-inline-block p-0",children:e.jsx("i",{className:"ri-eye-fill fs-16"})})}),e.jsx("li",{className:"list-inline-item edit",children:e.jsx(N,{variant:"link",className:"text-primary d-inline-block edit-item-btn p-0",onClick:()=>{const r=t.row.original;L(r)},children:e.jsx("i",{className:"ri-pencil-fill fs-16"})})}),e.jsx("li",{className:"list-inline-item",children:e.jsx(N,{variant:"link",className:"text-danger d-inline-block remove-item-btn p-0",onClick:()=>{const r=t.row.original;B(r)},children:e.jsx("i",{className:"ri-delete-bin-5-fill fs-16"})})})]})}],[]),[K,w]=l.useState(!1);return l.useEffect(()=>{n&&(n.success&&n.success!=null&&A.success(n.success,{autoClose:3e3}),n.error&&n.error!=null&&A.error(n.error,{autoClose:3e3}))},[n]),e.jsxs(U.Fragment,{children:[e.jsx(W,{title:"Orders | Velzon - React Admin & Dashboard Template"}),e.jsxs("div",{className:"page-content",children:[e.jsx(X,{show:K,onCloseClick:()=>w(!1),data:d}),e.jsx(Y,{show:T,onDeleteClick:I,onCloseClick:()=>y(!1)}),e.jsxs(ee,{fluid:!0,children:[e.jsx(q,{title:"Orders",pageTitle:"Ecommerce"}),e.jsx(C,{children:e.jsx(k,{lg:12,children:e.jsxs(_,{id:"orderList",children:[e.jsx(_.Header,{className:"card-header border-0",children:e.jsxs(C,{className:"align-items-center gy-3",children:[e.jsx("div",{className:"col-sm",children:e.jsx("h5",{className:"card-title mb-0",children:"Order History"})}),e.jsx("div",{className:"col-sm-auto",children:e.jsxs("div",{className:"d-flex gap-1 flex-wrap",children:[e.jsxs("button",{type:"button",className:"btn btn-success add-btn",id:"create-btn",onClick:()=>{D(!1),j()},children:[e.jsx("i",{className:"ri-add-line align-bottom me-1"})," Create Order"]})," ",e.jsxs("button",{type:"button",className:"btn btn-info",onClick:()=>w(!0),children:[e.jsx("i",{className:"ri-file-download-line align-bottom me-1"})," ","Export"]})]})})]})}),e.jsxs(_.Body,{className:"pt-0",children:[e.jsx("div",{children:e.jsxs(te.Container,{defaultActiveKey:"1",children:[e.jsxs(i,{className:"nav-tabs nav-tabs-custom nav-success",role:"tablist",children:[e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"all",className:x({active:u==="all"},"all py-3"),onClick:()=>{h("all","1")},children:[e.jsx("i",{className:"ri-store-2-fill me-1 align-bottom"})," ","All Orders"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"deliverd",className:x({active:u==="deliverd"},"deliverd py-3"),onClick:()=>{h("deliverd","2")},href:"#",children:[e.jsx("i",{className:"ri-checkbox-circle-line me-1 align-bottom"})," ","Delivered"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"pickups",className:x({active:u==="pickups"},"pickups py-3"),onClick:()=>{h("pickups","3")},children:[e.jsx("i",{className:"ri-truck-line me-1 align-bottom"})," ","Pickups"," ",e.jsx("span",{className:"badge bg-danger align-middle ms-1",children:"2"})]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"returns",href:"#",className:x({active:u==="returns"},"returns py-3"),onClick:()=>{h("returns","4")},children:[e.jsx("i",{className:"ri-arrow-left-right-fill me-1 align-bottom"})," ","Returns"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"cancelled",href:"#",className:x({active:u==="cancelled"},"cancelled py-3"),onClick:()=>{h("cancelled","5")},children:[e.jsx("i",{className:"ri-close-circle-line me-1 align-bottom"})," ","Cancelled"]})})]}),e.jsx(Q,{columns:V,data:o.orders||[],isGlobalFilter:!0,customPageSize:8,divClass:"table-responsive table-card mb-1 mt-0",tableClass:"align-middle table-nowrap",theadClass:"table-light text-muted text-uppercase",isOrderFilter:!0,SearchPlaceholder:"Search for order ID, customer, order status or something..."})]})}),e.jsxs(S,{id:"showModal",show:v,onHide:j,centered:!0,children:[e.jsx(S.Header,{className:"bg-light p-3",closeButton:!0,children:e.jsx("h5",{className:"modal-title",children:f?"Edit Order":"Add Order"})}),e.jsxs(s,{className:"tablelist-form",onSubmit:O,children:[e.jsxs(S.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"order_id",className:"form-label",children:"Order Id"}),e.jsx(s.Control,{name:"orderId",id:"order_id",className:"form-control",placeholder:"Enter Order Id",type:"text",value:c.order_id,onChange:t=>m("order_id",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.order_id})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"customer_name",className:"form-label",children:"Customer Name"}),e.jsx(s.Control,{name:"customer",id:"customer_name",className:"form-control",placeholder:"Enter Name",type:"text",value:c.customer_name,onChange:t=>m("customer_name",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.customer_name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"product",className:"form-label",children:"Product"}),e.jsxs(s.Select,{name:"product",id:"product",value:c.product,onChange:t=>{m("product",t.target.value)},children:[e.jsx("option",{value:"Product",children:"Product "}),e.jsx("option",{value:"Puma Tshirt",children:"Puma Tshirt "}),e.jsx("option",{value:"Adidas Sneakers",children:"Adidas Sneakers "}),e.jsx("option",{value:"350 ml Glass Grocery Container",children:"350 ml Glass Grocery Container "}),e.jsx("option",{value:"American egale outfitters Shirt",children:"American egale outfitters Shirt "}),e.jsx("option",{value:"Galaxy Watch4",children:"Galaxy Watch4 "}),e.jsx("option",{value:"Apple iPhone 12",children:"Apple iPhone 12 "}),e.jsx("option",{value:"Funky Prints T-shirt",children:"Funky Prints T-shirt "}),e.jsx("option",{value:"USB Flash Drive Personalized with 3D Print",children:"USB Flash Drive Personalized with 3D Print "}),e.jsx("option",{value:"Oxford Button-Down Shirt",children:"Oxford Button-Down Shirt "}),e.jsx("option",{value:"Classic Short Sleeve Shirt",children:"Classic Short Sleeve Shirt "}),e.jsx("option",{value:"Half Sleeve T-Shirts (Blue)",children:"Half Sleeve T-Shirts (Blue) "}),e.jsx("option",{value:"Noise Evolve Smartwatch",children:"Noise Evolve Smartwatch "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.product})]}),e.jsxs(C,{className:"gy-4 mb-3",children:[e.jsx(k,{md:6,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"amount-field",className:"form-label",children:"Amount"}),e.jsx(s.Control,{name:"amount",type:"text",value:c.amount,onChange:t=>m("amount",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.amount})]})}),e.jsx(k,{md:6,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"payment_method",className:"form-label",children:"Payment Method"}),e.jsxs(s.Select,{name:"payment_method",id:"payment_method",value:c.payment_method,onChange:t=>{m("payment_method",t.target.value)},children:[e.jsx("option",{value:"All",children:"All "}),e.jsx("option",{value:"Mastercard",children:"Mastercard "}),e.jsx("option",{value:"Paypal",children:"Paypal "}),e.jsx("option",{value:"Visa",children:"Visa "}),e.jsx("option",{value:"COD",children:"COD "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.payment_method})]})})]}),e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"delivery_status",className:"form-label",children:"Delivery Status"}),e.jsxs(s.Select,{name:"delivery_status",id:"delivery_status",value:c.delivery_status,onChange:t=>{m("delivery_status",t.target.value)},children:[e.jsx("option",{value:"Status",children:"Status "}),e.jsx("option",{value:"All",children:"All "}),e.jsx("option",{value:"Pending",children:"Pending "}),e.jsx("option",{value:"Inprogress",children:"Inprogress "}),e.jsx("option",{value:"Cancelled",children:"Cancelled "}),e.jsx("option",{value:"Pickups",children:"Pickups "}),e.jsx("option",{value:"Returns",children:"Returns "}),e.jsx("option",{value:"Delivered",children:"Delivered "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.delivery_status})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsxs("div",{className:"hstack gap-2 justify-content-end",children:[e.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>{p(!1)},children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-success",children:f?"Update":"Add Customer"})]})})]})]}),e.jsx(Z,{closeButton:!1,limit:1})]})]})})})]})]})]})};re.layout=o=>e.jsx($,{children:o});export{re as default};
